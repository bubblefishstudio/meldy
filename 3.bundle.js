(window.webpackJsonp=window.webpackJsonp||[]).push([[3,4],[,,function(t,e,n){"use strict";n.r(e),e.default=class{constructor(t,e,s){this.navigator=t,this.data=e,this.view=n(5)(`./${s}.html`).default.cloneNode(!0)}setup(){}}},function(t,e,n){"use strict";n.r(e);var s=n(10),i=n(26),o=n(2);e.default=class extends o.default{setup(){const t=new s.OpenSheetMusicDisplay(this.view.querySelector("#sheet"));this.player=new i.a,this.data.text().then(e=>{this.musicxml=e,t.load(this.musicxml)}).then(()=>t.render()).then(()=>this.player.loadScore(t)),this.view.querySelector("#play-btn").addEventListener("click",t=>this.playScore(t)),this.view.querySelector("#dw-btn").addEventListener("click",()=>this.downloadScore()),this.view.querySelector("#reset-btn").addEventListener("click",()=>this.dropScore())}playScore(t){"STOPPED"===this.player.state||"PAUSED"===this.player.state?(this.player.play(),t.target.textContent="Stop"):(this.player.stop(),t.target.textContent="Play")}downloadScore(){let t=URL.createObjectURL(new Blob([this.musicxml],{type:"application/vnd.recordare.musicxml"})),e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download","generated-score.musicxml"),e.click()}dropScore(){this.player.stop(),delete this.player,this.navigator.goto("request")}}},,function(t,e,n){var s={"./request.html":6,"./result.html":7};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id=5},function(t,e,n){"use strict";n.r(e),e.default=function(){const t=document.createElement("div");return t.innerHTML='<div class="view request-view">\n\n\t<div class="row intro">\n\t\t<span class="description">Today I feel...</span>\n\t</div>\n\n\t<div class="row mood-picker" id="mood-picker">\n\t\t<span class="mood happy-mood">Happy</span>\n\t\t<span class="mood peace-mood">Peaceful</span>\n\t\t<span class="mood upset-mood">Upset</span>\n\t\t<span class="mood sad-mood">Sad</span>\n\t\t\x3c!-- canvas will be attached here --\x3e\n\t</div>\n\n\t<div class="row actions">\n\t\t<button class="btn btn-go" id="create">Impress me</button>\n\t\t<span class="error-msg">Network problem, retry in some minutes</span>\n\t</div>\n\n</div>\n',t.firstChild}()},function(t,e,n){"use strict";n.r(e),e.default=function(){const t=document.createElement("div");return t.innerHTML='<div class="view result-view">\n\n\t<div class="row intro">\n\t\t<span class="description">Your generated music piece</span>\n\t</div>\n\n\t<div class="row sheet" id="sheet">\n\n\t</div>\n\n\t<div class="row actions">\n\t\t<button class="btn btn-play" id="play-btn">Play</button>\n\t\t<button class="btn btn-dw" id="dw-btn">Download</button>\n\t\t<button class="btn btn-reset" id="reset-btn">Restart</button>\n\t</div>\n\n</div>\n',t.firstChild}()}]]);